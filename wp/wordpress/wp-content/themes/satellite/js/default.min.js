var $j=jQuery.noConflict();var logo_height;var $scroll=0;var menu_dropdown_height_set=false;$j(document).ready(function(){$j(".content").css("min-height",$j(window).height()-$j("header").height()-$j("footer").height()+90);initSideMenu();setDropDownMenuPosition();initDropDownMenu();initFlexSlider();fitVideo();initToCounter();initCounter();initElementsAnimation();initMobileMenu();initAccordion();initAccordionContentLink();initPieChart();prettyPhoto();initProgressBars();initListAnimation();loadMore();initMessages();initProgressBarsIcon();backButtonShowHide();backToTop();initNiceScroll();initSideAreaScroll();showElementFadeIn();placeholderReplace();addPlaceholderSearchWidget();initParallax(parallax_speed);initParallaxTitle();socialShare();$j([theme_root+"css/img/qode_like_blue.png",theme_root+"css/img/qode_like_blue@1_5x.png",theme_root+"css/img/qode_like_blue@2x.png",theme_root+"css/img/social_share_blue.png",theme_root+"css/img/social_share_blue@1_5x.png",theme_root+"css/img/social_share_blue@2x.png",theme_root+"css/img/mobile_menu_arrow_down.png",theme_root+"css/img/blockquote_mark_white.png",theme_root+"css/img/blockquote_mark_white@1_5x.png",theme_root+"css/img/blockquote_mark_white@2x.png",theme_root+"css/img/link_mark_white.png",theme_root+"css/img/link_mark_white@1_5x.png",theme_root+"css/img/link_mark_white@2x.png"]).preload();$j(".widget #searchform").mousedown(function(){$j(this).addClass("form_focus")}).focusout(function(){$j(this).removeClass("form_focus")})});$j(window).load(function(){$j(".touch .main_menu li:has(div.second)").doubleTapToGo();$j(".side_menu").css("visibility","visible");logo_height=$j(".logo img").height();if($j(window).width()>1000){headerSize($scroll)}else{logoSizeOnSmallScreens()}$j(".logo a").css({visibility:"visible"});initPortfolioSingleInfo();initPortfolio();fitAudio();initBlog();initTabs();initTestimonials()});$j(window).scroll(function(){$scroll=$j(window).scrollTop();if($j(window).width()>1000){headerSize($scroll)}$j(".touch .drop_down > ul > li").mouseleave();$j(".touch .drop_down > ul > li").blur()});$j(window).resize(function(){if($j(window).width()<1000){logoSizeOnSmallScreens()}setDropDownMenuPosition();initDropDownMenu();initBlog();fitAudio();initTestimonials()});function initParallaxTitle(){if(($j(".title").length>0)&&($j(".touch").length==0)){if($j(".title.has_fixed_background").length){var a=$j(".title.has_fixed_background").height();var b=(a/10000)*3;var c=$scroll-$j(".title.has_fixed_background").offset().top;var e=-(c*b);$j(".title.has_fixed_background").css({"background-position":"center "+e+"px"})}var d=$j(".title_holder");d.css({opacity:(1-$scroll/($j(".title").height()*0.6))});$j(window).on("scroll",function(){d.css({opacity:(1-$scroll/($j(".title").height()*0.6))});if($j(".title.has_fixed_background").length){var f=$scroll-$j(".title.has_fixed_background").offset().top;var g=-(f*b);$j(".title.has_fixed_background").css({"background-position":"center "+g+"px"})}})}}function initSideMenu(){$j(".side_menu_button_wrapper.right a, a.close_side_menu").on("click",function(a){a.preventDefault();if(!$j(".side_menu_button_wrapper.right a").hasClass("opened")||!$j("a.close_side_menu").hasClass("opened")){$j(".side_menu_button_wrapper.right a").addClass("opened");$j("a.close_side_menu").addClass("opened");$j("body").addClass("right_side_menu_opened")}else{$j(".side_menu_button_wrapper.right a").removeClass("opened");$j("a.close_side_menu").removeClass("opened");$j("body").removeClass("right_side_menu_opened")}})}function initSideAreaScroll(){if($j(".side_menu").length){$j(".side_menu").niceScroll({scrollspeed:60,mousescrollstep:40,cursorwidth:0,cursorborder:0,cursorborderradius:0,cursorcolor:"transparent",autohidemode:false,horizrailenabled:false})}}function initDropDownMenu(){var a=$j(".drop_down > ul > li");a.each(function(d){if($j(a[d]).find(".second").length>0){if($j(a[d]).hasClass("wide")){$j(this).find(".second").css("left",0);var f;if($j(this).find(".second > .inner > ul > li").length>4){f=4}else{f=$j(this).find(".second > .inner > ul > li").length}var e=f*($j(this).find(".second > .inner > ul > li").width()+30);$j(this).find(".second > .inner > ul").width(e);var c=($j(window).width()-2*($j(window).width()-$j(this).find(".second").offset().left))/2+(e+30)/2;$j(this).find(".second").css("left",-c)}if(!menu_dropdown_height_set){$j(a[d]).data("original_height",$j(a[d]).find(".second").height()+"px");$j(a[d]).find(".second").height(0)}if(navigator.userAgent.match(/(iPod|iPhone|iPad)/)){$j(a[d]).on("touchstart mouseenter",function(){$j(a[d]).find(".second").css({height:$j(a[d]).data("original_height"),overflow:"visible",visibility:"visible",opacity:"1"})}).on("mouseleave",function(){$j(a[d]).find(".second").css({height:"0px",overflow:"hidden",visivility:"hidden",opacity:"0"})})}else{var b={interval:50,over:function(){$j(a[d]).find(".second").css({height:$j(a[d]).data("original_height"),overflow:"visible",visibility:"visible",opacity:"1"})},timeout:150,out:function(){$j(a[d]).find(".second").css({height:"0px",overflow:"hidden",visivility:"hidden",opacity:"0"})}};$j(a[d]).hoverIntent(b)}}});$j(".drop_down ul li.wide ul li a").on("click",function(){var b=$j(this);setTimeout(function(){b.mouseleave()},500)});menu_dropdown_height_set=true}function setDropDownMenuPosition(){var a=$j(".drop_down > ul > li.narrow");a.each(function(f){var g=$j(window).width()-16;var b=$j(a[f]).offset().left;var c=$j(a[f]).find(".second .inner ul").width();var d=g-b+25;var e;if($j(a[f]).find("li.sub").length>0){e=g-b-c+25}if(d<c||e<c){$j(a[f]).find(".second").addClass("right");$j(a[f]).find(".second .inner ul").addClass("right")}})}function initFlexSlider(){$j(".flexslider").flexslider({animationLoop:true,controlNav:false,useCSS:false,pauseOnAction:true,pauseOnHover:true,slideshow:true,animation:"slides",animationSpeed:600,slideshowSpeed:8000,start:function(){setTimeout(function(){$j(".flexslider").fitVids();initNiceScroll()},100)}});$j(".flex-direction-nav a").click(function(a){a.preventDefault();a.stopImmediatePropagation();a.stopPropagation()})}function fitVideo(){$j(".portfolio_images").fitVids();$j(".video_holder").fitVids();$j(".post_image_video").fitVids()}var $scrollHeight;function initPortfolioSingleInfo(){var c=$j(".portfolio_single_follow");if($j(".portfolio_single_follow").length>0){var e=c.offset();$scrollHeight=$j(".portfolio_container").height();var b=$j(".portfolio_container").offset();var d=$j(window);var a=parseInt($j(".main_menu > ul > li > a").css("line-height"),10);d.scroll(function(){if(d.width()>960){if(d.scrollTop()+a+3>e.top){if(d.scrollTop()+a+c.height()+24<b.top+$scrollHeight){c.stop().animate({marginTop:d.scrollTop()-e.top+a})}else{c.stop().animate({marginTop:$scrollHeight-c.height()-24})}}else{c.stop().animate({marginTop:0})}}else{c.css("margin-top",0)}})}}function prettyPhoto(){$j("a[data-rel]").each(function(){$j(this).attr("rel",$j(this).data("rel"))});$j("a[rel^='prettyPhoto']").prettyPhoto({animation_speed:"normal",slideshow:false,autoplay_slideshow:false,opacity:0.8,show_title:true,allow_resize:true,default_width:650,default_height:400,counter_separator_label:"/",theme:"pp_default",hideflash:false,wmode:"opaque",autoplay:true,modal:false,overlay_gallery:false,keyboard_shortcuts:true,deeplinking:false,social_tools:false})}(function(a){a.fn.countTo=function(d){d=a.extend({},a.fn.countTo.defaults,d||{});var c=Math.ceil(d.speed/d.refreshInterval),b=(d.to-d.from)/c;return a(this).each(function(){var i=this,e=0,h=d.from,f=setInterval(g,d.refreshInterval);function g(){h+=b;e++;a(i).html(h.toFixed(d.decimals));if(typeof(d.onUpdate)==="function"){d.onUpdate.call(i,h)}if(e>=c){clearInterval(f);h=d.to;if(typeof(d.onComplete)==="function"){d.onComplete.call(i,h)}}}})};a.fn.countTo.defaults={from:0,to:100,speed:1000,refreshInterval:100,decimals:0,onUpdate:null,onComplete:null,}})(jQuery);function initToCounter(){if($j(".counter.zero").length){$j(".counter.zero").each(function(){if(!$j(this).hasClass("executed")){$j(this).addClass("executed");$j(this).appear(function(){$j(this).parent().css("opacity","1");var a=parseFloat($j(this).text());$j(this).countTo({from:0,to:a,speed:1500,refreshInterval:100})},{accX:0,accY:-200})}})}}function initCounter(){if($j(".counter.random").length){$j(".counter.random").each(function(){if(!$j(this).hasClass("executed")){$j(this).addClass("executed");$j(this).appear(function(){$j(this).parent().css("opacity","1");$j(this).absoluteCounter({speed:2000,fadeInDelay:1000})},{accX:0,accY:-200})}})}}function initPortfolio(){if($j(".projects_holder_outer").length){$j(".projects_holder_outer").each(function(){$j(this).find(".projects_holder").mixitup({showOnLoad:"all",transitionSpeed:600,minHeight:150})})}}function headerSize(a){if($j("header").hasClass("has_top")){if(a<=31){$j("header").css("top",-a)}else{$j("header").css("top","-31px")}}if((header_height-a)>=min_header_height){$j("header").removeClass("scrolled");$j("header nav.main_menu > ul > li > a, header nav.main_menu > ul > li > h5").css("line-height",header_height-a+"px");$j("header .drop_down .second").css("top",header_height-a+"px");$j("header .side_menu_button").css("height",header_height-a+"px");$j("header .logo_wrapper").css("height",header_height-a+"px")}else{if((header_height-a)<min_header_height){$j("header").addClass("scrolled");$j("header nav.main_menu > ul > li > a, header nav.main_menu > ul > li > h5").css("line-height",min_header_height+"px");$j("header .drop_down .second").css("top",min_header_height+"px");$j("header .side_menu_button").css("height",min_header_height+"px");$j("header .logo_wrapper").css("height",min_header_height+"px")}}if((header_height-a<logo_height)&&(header_height-a)>=min_header_height&&logo_height>min_header_height-10){$j(".logo a").height(header_height-a-10)}else{if((header_height-a<logo_height)&&(header_height-a)<min_header_height&&logo_height>min_header_height-10){$j(".logo a").height(min_header_height-10)}else{if((header_height-a<logo_height)&&(header_height-a)<min_header_height&&logo_height<min_header_height-10){$j(".logo a").height(logo_height)}else{if(a===0&&logo_height>header_height-10){$j(".logo a").height(logo_height)}else{$j(".logo a").height(logo_height)}}}}$j(".logo a img").css("height","100%")}function logoSizeOnSmallScreens(){if((100-20<logo_height)){$j(".logo a").height(100-20)}else{$j(".logo a").height(logo_height)}$j(".logo a img").css("height","100%")}function initElementsAnimation(){if($j(".element_from_fade").length){$j(".element_from_fade").each(function(){var a=$j(this);a.appear(function(){a.addClass("element_from_fade_on")},{accX:0,accY:-200})})}if($j(".element_from_left").length){$j(".element_from_left").each(function(){var a=$j(this);a.appear(function(){a.addClass("element_from_left_on")},{accX:0,accY:-200})})}if($j(".element_from_right").length){$j(".element_from_right").each(function(){var a=$j(this);a.appear(function(){a.addClass("element_from_right_on")},{accX:0,accY:-200})})}if($j(".element_from_top").length){$j(".element_from_top").each(function(){var a=$j(this);a.appear(function(){a.addClass("element_from_top_on")},{accX:0,accY:-200})})}if($j(".element_from_bottom").length){$j(".element_from_bottom").each(function(){var a=$j(this);a.appear(function(){a.addClass("element_from_bottom_on")},{accX:0,accY:-200})})}if($j(".element_transform").length){$j(".element_transform").each(function(){var a=$j(this);a.appear(function(){a.addClass("element_transform_on")},{accX:0,accY:-200})})}}function fitAudio(){$j("audio").mediaelementplayer({audioWidth:"100%"})}function initBlog(){if($j(".massonary").length){var a=$j(".container_inner").width();if($j(".massonary").closest(".column_inner").length){a=$j(".massonary").closest(".column_inner").width()}$j(".massonary").width(a);var c=$j(".massonary");var b=3;if(c.width()<420){b=1}else{if(c.width()<=768){b=2}}c.isotope({itemSelector:"article",resizable:false,masonry:{columnWidth:$j(".massonary").width()/b}});$j(window).resize(function(){if(c.width()<420){b=1}else{if(c.width()<=768){b=2}else{b=3}}});$j(window).smartresize(function(){c.isotope({masonry:{columnWidth:$j(".massonary").width()/b}})});$j(".massonary").animate({opacity:"1"},500)}}function initMobileMenu(){$j(".mobile_menu_button span").click(function(){if($j(".mobile_menu > ul").is(":visible")){$j(".mobile_menu > ul").slideUp(200)}else{$j(".mobile_menu > ul").slideDown(200)}});$j(".mobile_menu > ul > li.has_sub > a > span.mobile_arrow, .mobile_menu > ul > li.has_sub > h5 > span.mobile_arrow").click(function(){if($j(this).closest("li.has_sub").find("> ul.sub_menu").is(":visible")){$j(this).closest("li.has_sub").find("> ul.sub_menu").slideUp(200);$j(this).closest("li.has_sub").removeClass("open_sub")}else{$j(this).closest("li.has_sub").addClass("open_sub");$j(this).closest("li.has_sub").find("> ul.sub_menu").slideDown(200)}});$j(".mobile_menu > ul > li.has_sub > ul.sub_menu > li.has_sub > a > span.mobile_arrow, .mobile_menu > ul > li.has_sub > ul.sub_menu > li.has_sub > h5 > span.mobile_arrow").click(function(){if($j(this).parent().parent().find("ul.sub_menu").is(":visible")){$j(this).parent().parent().find("ul.sub_menu").slideUp(200);$j(this).parent().parent().removeClass("open_sub")}else{$j(this).parent().parent().addClass("open_sub");$j(this).parent().parent().find("ul.sub_menu").slideDown(200)}});$j(".mobile_menu ul li a").click(function(){if(($j(this).attr("href")!=="http://#")&&($j(this).attr("href")!=="#")){$j(".mobile_menu > ul").slideUp()}else{return false}});$j(".mobile_menu ul li a span.mobile_arrow").click(function(){return false})}function initTabs(){var b=$j(".tabs-nav");var a=b.children("li");b.each(function(){var c=$j(this);c.next().children(".tab-content").stop(true,true).hide().first().show();c.children("li").first().addClass("active").stop(true,true).show()});a.on("click",function(d){var c=$j(this);c.siblings().removeClass("active").end().addClass("active");c.parent().next().children(".tab-content").stop(true,true).hide().siblings(c.find("a").attr("href")).fadeIn();d.preventDefault()})}function initTestimonials(){if($j(".testimonials").length){$j(".testimonials").each(function(){$j(this).css("visibility","visible");var b=$j(this).find(".testimonial_nav");var a=b.children("li");b.each(function(){var c=$j(this);c.prev().children(".testimonial_content").stop(true,true).hide().first().show();c.children("li").first().addClass("active").stop(true,true).show()});a.on("click",function(d){var c=$j(this);c.siblings().removeClass("active").end().addClass("active");c.parent().prev().children(".testimonial_content").stop(true,true).hide().siblings(c.find("a").attr("href")).fadeIn();d.preventDefault()})})}}function initAccordion(){$j(".accordion").accordion({animate:"swing",collapsible:true,icons:"",heightStyle:"content"});$j(".toggle").addClass("accordion ui-accordion ui-accordion-icons ui-widget ui-helper-reset").find("h3").addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-top ui-corner-bottom").hover(function(){$j(this).toggleClass("ui-state-hover")}).click(function(){$j(this).toggleClass("ui-accordion-header-active ui-state-active ui-state-default ui-corner-bottom").next().toggleClass("ui-accordion-content-active").slideToggle(200);return false}).next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide()}function initAccordionContentLink(){$j(".accordion_holder .accordion_inner .accordion_content a").click(function(){if($j(this).attr("target")==="_blank"){window.open($j(this).attr("href"),"_blank")}else{window.open($j(this).attr("href"),"_self")}return false})}function initPieChart(){if($j(".percentage").length){$j(".percentage").each(function(){var d="#146484";if($j(this).data("active")!==""){d=$j(this).data("active")}var c="#cbcbcb";if($j(this).data("noactive")!==""){c=$j(this).data("noactive")}var b=2;if($j(this).data("linewidth")!==""){b=$j(this).data("linewidth")}var a=165;$j(this).appear(function(){initToCounterPieChart($j(this));$j(this).parent().css("opacity","1");$j(this).easyPieChart({barColor:d,trackColor:c,scaleColor:false,lineCap:"butt",lineWidth:b,animate:1500,size:a})},{accX:0,accY:-200})})}}function initToCounterPieChart(b){$j(b).css("opacity","1");var a=parseFloat($j(b).find(".tocounter").text());$j(b).find(".tocounter").countTo({from:0,to:a,speed:1500,refreshInterval:50})}function initProgressBars(){if($j(".progress_bars").length){$j(".progress_bars").each(function(){$j(this).appear(function(){initToCounterHorizontalProgressBar($j(this));$j(this).find(".progress_bar").each(function(){var a=$j(this).find(".progress_content").data("percentage");var b=$j(this).find(".progress_number").width();$j(this).find(".progress_content").css("width","0%");$j(this).find(".progress_content").animate({width:a+"%"},1500);$j(this).find(".progress_number").css("width",b+"px")})},{accX:0,accY:-200})})}}function initToCounterHorizontalProgressBar(a){if(a.find(".progress_number span").length){a.find(".progress_number span").each(function(){$j(this).parent().css("opacity","1");var b=parseFloat($j(this).text());$j(this).countTo({from:0,to:b,speed:1500,refreshInterval:50})})}}function initListAnimation(){$j(".animate_list").each(function(){$j(this).appear(function(){$j(this).find("li").each(function(a){var b=$j(this);setTimeout(function(){b.animate({opacity:1,top:0},1500)},100*a)})},{accX:0,accY:-200})})}function initMessages(){$j(".message").each(function(){$j(this).find(".close").click(function(a){a.preventDefault();$j(this).parent().fadeOut(500)})})}var timeOuts=[];function initProgressBarsIcon(){if($j(".progress_bars_with_image_holder").length){$j(".progress_bars_with_image_holder").each(function(){var a=$j(this);a.appear(function(){a.find(".progress_bars_with_image").each(function(){var c=$j(this).find(".progress_bars_with_image_content").data("number");var b=$j(this).find(".bar");b.each(function(d){if(d<c){var e=(d+1)*150;timeOuts[d]=setTimeout(function(){$j(b[d]).addClass("active")},e)}})})},{accX:0,accY:-200})})}}function totop_button(d){var c=$j("#back_to_top");c.removeClass("off on");if(d==="on"){c.addClass("on")}else{c.addClass("off")}}function backButtonShowHide(){$j(window).scroll(function(){var a=$j(this).scrollTop();var f=$j(this).height();var e;if(a>0){e=a+f/2}else{e=1}if(e<1000){totop_button("off")}else{totop_button("on")}})}function backToTop(){$j(document).on("click","#back_to_top",function(a){a.preventDefault();$j("body,html").animate({scrollTop:0},$j(window).scrollTop()/3,"swing")})}function initNiceScroll(){if($j(".smooth_scroll").length){$j("html").niceScroll({scrollspeed:80,mousescrollstep:25,cursorwidth:10,cursorborder:0,cursorborderradius:0,cursorcolor:"#ffffff",autohidemode:false,horizrailenabled:false})}}function loadMore(){var a=1;$j(".load_more a").on("click",function(g){g.preventDefault();var f=$j(this).attr("href");var b=".projects_holder";var d=".portfolio_paging .load_more a";var h=$j(d).attr("href");var c=$j(".projects_holder .filler").length;$j.get(f+"",function(j){$j(".projects_holder .filler").slice(-c).remove();var i=$j(b,j).wrapInner("").html();h=$j(d,j).attr("href");$j("article.mix:last").after(i);var e=$j("article.mix:first").height();$j("article.mix").css("min-height",e);$j(".projects_holder").mixitup("remix","all");prettyPhoto();if($j(".load_more").attr("rel")>a){$j(".load_more a").attr("href",h)}else{$j(".load_more").remove()}$j(".projects_holder .portfolio_paging:last").remove();$j("article.mix").css("min-height",0)});a++})}function showElementFadeIn(){$j(".element_fade_in").each(function(){$j(this).appear(function(){$j(this).addClass("show_item")},{accX:0,accY:-200})})}function placeholderReplace(){$j("[placeholder]").focus(function(){var a=$j(this);if(a.val()===a.attr("placeholder")){if(this.originalType){this.type=this.originalType;delete this.originalType}a.val("");a.removeClass("placeholder")}}).blur(function(){var a=$j(this);if(a.val()===""){if(this.type==="password"){this.originalType=this.type;this.type="text"}a.addClass("placeholder");a.val(a.attr("placeholder"))}}).blur();$j("[placeholder]").parents("form").submit(function(){$j(this).find("[placeholder]").each(function(){var a=$j(this);if(a.val()===a.attr("placeholder")){a.val("")}})})}function addPlaceholderSearchWidget(){$j(".header_top .searchform input:text, .widget.widget_search form input:text, footer .footer_top_inner .searchform input:text").each(function(a,b){if(!b.value||b.value===""){b.placeholder="Search here"}})}function initParallax(a){if($j(".parallax section").length){if($j("html").hasClass("touch")){$j(".parallax section").each(function(){var e=$j(this);var d=e.data("height");e.height(d);var c=0.5;var b=(-$j(this).offset().top)*c;e.css({"background-position":"center "+b+"px"});$j(window).bind("scroll",function(){var f=(-e.offset().top+$j(window).scrollTop())*c;e.css({"background-position":"center "+f+"px"})})})}else{$j(".parallax section").each(function(){var e=$j(this);var d=e.data("height");e.height(d);var c=(d/$j(document).height())*a;var f=$scroll-e.offset().top+104;var b=-(f*c);e.css({"background-position":"center "+b+"px"});$j(window).bind("scroll",function(){var h=$scroll-e.offset().top+104;var g=-(h*c);e.css({"background-position":"center "+g+"px"})})})}return this}}function socialShare(){var a=$j(".social_share_dropdown");if($j(a).length>0){a.each(function(b){$j(a[b]).parent().mouseenter(function(){$j(a[b]).css({visibility:"visible",overflow:"visible",display:"block"})}).mouseleave(function(){$j(a[b]).css({overflow:"hidden",visibility:"hidden",display:"none"})})})}}$j.fn.preload=function(){this.each(function(){$j("<img/>")[0].src=this})};